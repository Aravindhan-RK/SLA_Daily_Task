package RedBus;

import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import gherkin.lexer.He;

public class excuter {
	 WebDriver Browser = new ChromeDriver();
		@BeforeClass
		public void getlink() throws IOException {
			Browser.get("https://www.redbus.in/");
			Browser.manage().window().maximize();
		}
		@Test 
		public void homepage() throws InterruptedException {
			homepage ob = new homepage(Browser);
			ob.enterFrom("chennai");
			
		}
		@Test
		public void tofile() throws InterruptedException {
			toclass obj= new toclass(Browser);
			obj.enterTo("Banglore");
		}
		@Test
		public void calendarpage() throws InterruptedException {
			calendarclass cob = new calendarclass(Browser);
			cob.calender();
		}
  }
//From
package RedBus;
import java.time.Duration;
import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class homepage {
	WebDriver Browser;
	 String fromlocation;
	WebDriverWait wait = new WebDriverWait(Browser, Duration.ofSeconds(2));
	public homepage(WebDriver Browser) {
		this.Browser = Browser;
	}
	public void enterFrom(String fromlocation) throws InterruptedException {
		this.fromlocation = fromlocation;
//		Actions action = new Actions(Browser);
		JavascriptExecutor js = (JavascriptExecutor) Browser;
		try {
	           WebElement from = Browser.findElement(By.xpath("//div[text()=\"From\"]"));
	    		    from.click();
	            Thread.sleep(500);
	            WebElement input = Browser.switchTo().activeElement();
	            js.executeScript("arguments[0].value = '" + fromlocation + "';", input);
	            js.executeScript("arguments[0].dispatchEvent(new Event('input', { bubbles: true }));",input);
	            Thread.sleep(1000);
	            js.executeScript("var e = new KeyboardEvent('keydown', {key:'ArrowDown', keyCode:40, bubbles:true});" +"arguments[0].dispatchEvent(e);",input);
	            Thread.sleep(500);
	            js.executeScript("var e = new KeyboardEvent('keydown', {key:'Enter', keyCode:13, bubbles:true});" +"arguments[0].dispatchEvent(e);",input);
		}catch(Exception e){
			e.printStackTrace();
		}
	}
//To
  package RedBus;

import java.time.Duration;

import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.Wait;
import org.openqa.selenium.support.ui.WebDriverWait;

public class toclass {
	
	WebDriver Browser;
	 String tocity;
	 WebDriverWait wait = new WebDriverWait(Browser, Duration.ofSeconds(2));
	public toclass(WebDriver Browser) {
		this.Browser = Browser;
	}
	public void enterTo(String tocity) throws InterruptedException {
		
		 this.tocity =tocity;
		 Actions action = new Actions(Browser);
		 try {
	     WebElement to = Browser.findElement(By.xpath("//div[text()=\"To\"]"));
	     to.click();
	     action.moveToElement(to).sendKeys(tocity,Keys.ARROW_DOWN, Keys.ENTER).perform();
//	     WebElement to_in = Browser.switchTo().activeElement();
//	     to_in.sendKeys(tocity);
		 }catch(Exception e){

			e.printStackTrace();
			
		 }
	}
}
